"use strict";function cov_6jkyskl4v(){var path="/home/rafael/Documentos/Projects/Personal/classes/typescript/web-service/dist/server/api/responses/authSuccess.js";var hash="a163e86b54b9b58faee8e58f029a435a9887de8c";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/rafael/Documentos/Projects/Personal/classes/typescript/web-service/dist/server/api/responses/authSuccess.js",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:17},end:{line:3,column:39}},"2":{start:{line:4,column:10},end:{line:4,column:31}},"3":{start:{line:5,column:13},end:{line:5,column:30}},"4":{start:{line:6,column:13},end:{line:6,column:49}},"5":{start:{line:8,column:18},end:{line:8,column:72}},"6":{start:{line:9,column:4},end:{line:19,column:5}},"7":{start:{line:10,column:22},end:{line:12,column:9}},"8":{start:{line:13,column:8},end:{line:15,column:11}},"9":{start:{line:18,column:8},end:{line:18,column:48}},"10":{start:{line:21,column:0},end:{line:21,column:30}}},fnMap:{"0":{name:"authSuccess",decl:{start:{line:7,column:9},end:{line:7,column:20}},loc:{start:{line:7,column:44},end:{line:20,column:1}},line:7}},branchMap:{"0":{loc:{start:{line:9,column:4},end:{line:19,column:5}},type:"if",locations:[{start:{line:9,column:4},end:{line:19,column:5}},{start:{line:9,column:4},end:{line:19,column:5}}],line:9}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},f:{"0":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a163e86b54b9b58faee8e58f029a435a9887de8c"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_6jkyskl4v=function(){return actualCoverage;};}return actualCoverage;}cov_6jkyskl4v();cov_6jkyskl4v().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});var httpStatus=(cov_6jkyskl4v().s[1]++,require("http-status"));var jwt=(cov_6jkyskl4v().s[2]++,require("jwt-simple"));var bcrypt=(cov_6jkyskl4v().s[3]++,require("bcrypt"));var config=(cov_6jkyskl4v().s[4]++,require("../../config/env/config")());function authSuccess(res,credential,data){cov_6jkyskl4v().f[0]++;var isMatch=(cov_6jkyskl4v().s[5]++,bcrypt.compareSync(credential.password,data.password));cov_6jkyskl4v().s[6]++;if(isMatch){cov_6jkyskl4v().b[0][0]++;var payload=(cov_6jkyskl4v().s[7]++,{id:data.id});cov_6jkyskl4v().s[8]++;res.json({token:jwt.encode(payload,config.secret)});}else{cov_6jkyskl4v().b[0][1]++;cov_6jkyskl4v().s[9]++;res.sendStatus(httpStatus.UNAUTHORIZED);}}cov_6jkyskl4v().s[10]++;exports.default=authSuccess;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGhTdWNjZXNzLmpzIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiaHR0cFN0YXR1cyIsInJlcXVpcmUiLCJqd3QiLCJiY3J5cHQiLCJjb25maWciLCJhdXRoU3VjY2VzcyIsInJlcyIsImNyZWRlbnRpYWwiLCJkYXRhIiwiaXNNYXRjaCIsImNvbXBhcmVTeW5jIiwicGFzc3dvcmQiLCJwYXlsb2FkIiwiaWQiLCJqc29uIiwidG9rZW4iLCJlbmNvZGUiLCJzZWNyZXQiLCJzZW5kU3RhdHVzIiwiVU5BVVRIT1JJWkVEIiwiZGVmYXVsdCJdLCJtYXBwaW5ncyI6IkFBQUEsYSx5ckRBZVk7Z0hBZFpBLE1BQU0sQ0FBQ0MsY0FBUCxDQUFzQkMsT0FBdEIsQ0FBK0IsWUFBL0IsQ0FBNkMsQ0FBRUMsS0FBSyxDQUFFLElBQVQsQ0FBN0MsRUFDQSxHQUFJQyxDQUFBQSxVQUFVLHlCQUFHQyxPQUFPLENBQUMsYUFBRCxDQUFWLENBQWQsQ0FDQSxHQUFJQyxDQUFBQSxHQUFHLHlCQUFHRCxPQUFPLENBQUMsWUFBRCxDQUFWLENBQVAsQ0FDQSxHQUFJRSxDQUFBQSxNQUFNLHlCQUFHRixPQUFPLENBQUMsUUFBRCxDQUFWLENBQVYsQ0FDQSxHQUFJRyxDQUFBQSxNQUFNLHlCQUFHSCxPQUFPLENBQUMseUJBQUQsQ0FBUCxFQUFILENBQVYsQ0FDQSxRQUFTSSxDQUFBQSxXQUFULENBQXFCQyxHQUFyQixDQUEwQkMsVUFBMUIsQ0FBc0NDLElBQXRDLENBQTRDLHdCQUN4QyxHQUFJQyxDQUFBQSxPQUFPLHlCQUFHTixNQUFNLENBQUNPLFdBQVAsQ0FBbUJILFVBQVUsQ0FBQ0ksUUFBOUIsQ0FBd0NILElBQUksQ0FBQ0csUUFBN0MsQ0FBSCxDQUFYLENBRHdDLHVCQUV4QyxHQUFJRixPQUFKLENBQWEsMkJBQ1QsR0FBSUcsQ0FBQUEsT0FBTyx5QkFBRyxDQUNWQyxFQUFFLENBQUVMLElBQUksQ0FBQ0ssRUFEQyxDQUFILENBQVgsQ0FEUyx1QkFJVFAsR0FBRyxDQUFDUSxJQUFKLENBQVMsQ0FDTEMsS0FBSyxDQUFFYixHQUFHLENBQUNjLE1BQUosQ0FBV0osT0FBWCxDQUFvQlIsTUFBTSxDQUFDYSxNQUEzQixDQURGLENBQVQsRUFHSCxDQVBELElBUUssa0RBQ0RYLEdBQUcsQ0FBQ1ksVUFBSixDQUFlbEIsVUFBVSxDQUFDbUIsWUFBMUIsRUFDSCxDQUNKLEMsd0JBQ0RyQixPQUFPLENBQUNzQixPQUFSLENBQWtCZixXQUFsQiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGh0dHBTdGF0dXMgPSByZXF1aXJlKFwiaHR0cC1zdGF0dXNcIik7XG52YXIgand0ID0gcmVxdWlyZShcImp3dC1zaW1wbGVcIik7XG52YXIgYmNyeXB0ID0gcmVxdWlyZShcImJjcnlwdFwiKTtcbnZhciBjb25maWcgPSByZXF1aXJlKFwiLi4vLi4vY29uZmlnL2Vudi9jb25maWdcIikoKTtcbmZ1bmN0aW9uIGF1dGhTdWNjZXNzKHJlcywgY3JlZGVudGlhbCwgZGF0YSkge1xuICAgIHZhciBpc01hdGNoID0gYmNyeXB0LmNvbXBhcmVTeW5jKGNyZWRlbnRpYWwucGFzc3dvcmQsIGRhdGEucGFzc3dvcmQpO1xuICAgIGlmIChpc01hdGNoKSB7XG4gICAgICAgIHZhciBwYXlsb2FkID0ge1xuICAgICAgICAgICAgaWQ6IGRhdGEuaWQsXG4gICAgICAgIH07XG4gICAgICAgIHJlcy5qc29uKHtcbiAgICAgICAgICAgIHRva2VuOiBqd3QuZW5jb2RlKHBheWxvYWQsIGNvbmZpZy5zZWNyZXQpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJlcy5zZW5kU3RhdHVzKGh0dHBTdGF0dXMuVU5BVVRIT1JJWkVEKTtcbiAgICB9XG59XG5leHBvcnRzLmRlZmF1bHQgPSBhdXRoU3VjY2VzcztcbiJdfQ==